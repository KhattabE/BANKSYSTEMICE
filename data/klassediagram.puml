@startuml

skinparam classAttributeIconSize 12


title MobilBank AMEK UML 1

' ---------- MAIN ----------
class Main {
    + main(args : String[]) : void
}

' ---------- BANKMENU ----------
class BankMenu {
    + UIText ui
    + DBconnection db
    + User loggedInUser
    - Arraylist menuOptions
    + void start()
    + void login()
    + void logout()
    + void showMainMenu()
    + void chooseFromMenu()
    + void handleDeposit()
    + void handleWithdraw()
    + void showBalance()
    + void showTransactions()
}

' ---------- DOMAIN ----------
class User {
    - int userId
    - String fullName
    - String username
    - String password

    + boolean checkPassword(String pw)
}

class Account {
    - int accountId
    - User owner
    - double balance

    + void deposit(double amount)
    + boolean withdraw(double amount)
    + double getBalance()
    + boolean canAfford(double amount)
}

class Transactions {
    - int id
    - LocalDateTime date
    - String type
    - double amount
    - Account fromAccount
    - Account toAccount

    + String getSummary()
}

' ---------- SERVICES ----------
class Deposit {
    + void depositAmount(Account account, double amount)
    + Transactions createDepositTransaction(Account account, double amount)
    + boolean validateAmount(double amount)
}

class Withdraw {
    + boolean withdrawAmount(Account account, double amount)
    + Transactions createWithdrawTransaction(Account account, double amount)
    + boolean validateWithdrawal(Account account, double amount)
}

class Saldo {
    + double getBalance(Account account)
    + void printBalance(Account account, UIText ui)
    + String formatBalance(double value)
}

' ---------- UTIL ----------
package UTIL {
    class DBconnection {
        + void connect(String url)
        + User login(String username, String password)
        + java.util.List<Account> loadAccounts(User user)
        + java.util.List<Transactions> loadTransactions(Account account)
        + void saveTransaction(Transactions t)
        + void saveAccount(Account acc)
    }

    class UIText {
        + void displayMsg(String msg)
        + void displayError(String msg)
        + String promptTxt(String prompt)
        + double promptNumeric(String prompt)
        + int displayMenu(String title, java.util.List<String> options)
    }
}

' ---------- RELATIONER ----------
Main o-- BankMenu

BankMenu o-- User
User o-- Account
Account o-- Transactions

BankMenu o-- Deposit
BankMenu o-- Withdraw
BankMenu o-- Saldo

BankMenu o-- DBconnection
BankMenu o-- UIText

@enduml
